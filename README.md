# 🌲 フォレストGIS

**山間部での森林調査を効率化するモバイルアプリ**

[![Flutter](https://img.shields.io/badge/Flutter-3.0+-blue.svg)](https://flutter.dev)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

---

## 🎯 特長

| 機能 | 説明 |
|------|------|
| 📵 **オフラインファースト** | 電波がなくても使える。山の中でも安心 |
| 📍 **GIS記録** | ポイント・ライン・ポリゴンを地図に直接記録 |
| 📸 **写真記録** | 現地状況を写真付きで保存 |
| 📏 **測定機能** | 距離・面積をリアルタイム計算 |
| 🛤️ **GPSトラック** | 踏査経路を自動記録 |
| 📤 **データ出力** | CSV・GPX・画像形式でエクスポート |
| ☁️ **クラウド同期** | オンライン復帰時に自動バックアップ |

---

## 📱 スクリーンショット

<!-- TODO: 実機スクリーンショットを追加 -->

---

## 🚀 クイックスタート

### 必要なもの
- Android 8.0+ または iOS 12.0+
- 位置情報サービス有効

### インストール
1. [Google Play / App Store]からダウンロード（準備中）
2. アカウント作成（メール or Google）
3. 作業エリアを登録
4. 現場で調査開始！

---

## 💡 使い方

### 基本操作
| 操作 | 説明 |
|------|------|
| 地図タップ | ポイント追加（描画モード時） |
| ポイントタップ | 詳細表示・編集・削除 |
| 📍 ボタン | 現在地に移動 |
| 🧭 ボタン | 追尾モード ON/OFF |
| 📤 ボタン | データエクスポート |

### 描画ツール
| アイコン | 機能 |
|----------|------|
| ● | ポイント追加 |
| ─ | ライン描画（距離測定） |
| ⬡ | ポリゴン描画（面積測定） |
| 🌳 | 樹木登録（樹種・樹高・直径） |

---

## 🛠️ 開発者向け

### 技術スタック
- **フレームワーク**: Flutter (Dart)
- **状態管理**: Riverpod
- **地図**: flutter_map + OpenStreetMap
- **ローカルDB**: Drift (SQLite)
- **バックエンド**: Supabase (PostgreSQL + PostGIS)

### セットアップ
```bash
# 依存関係インストール
flutter pub get

# コード生成
dart run build_runner build

# 実行
flutter run
```

### プロジェクト構成
```
lib/
├── core/          # 共通ユーティリティ
├── features/
│   ├── auth/      # 認証
│   ├── backup/    # バックアップ
│   ├── export/    # データ出力
│   ├── map/       # 地図・GIS機能
│   ├── offline/   # 同期処理
│   └── trees/     # 樹木データ
```

---

## 🔮 ロードマップ

### v1.1（近日）
- [x] 現在地ボタン
- [x] データ削除機能
- [x] 編集機能

### v1.2（予定）
- [ ] オフラインマップキャッシュ
- [ ] 調査テンプレート
- [ ] 集計ダッシュボード

### v2.0（将来）
- [ ] Webブラウザ版
- [ ] AI材積推定
- [ ] 3D地形表示

---

## 📄 ライセンス

MIT License - 詳細は [LICENSE](LICENSE) を参照

---

## 🙏 謝辞

- [OpenStreetMap](https://www.openstreetmap.org/) - 地図データ
- [国土地理院](https://maps.gsi.go.jp/) - 地形図タイル
- [Supabase](https://supabase.com/) - バックエンドインフラ
