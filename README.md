<<<<<<< HEAD
# æ£®æž—ç®¡ç†GISã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

å›½åœŸåœ°ç†é™¢åœ°å›³APIã‚’æ´»ç”¨ã—ãŸåŒ…æ‹¬çš„ãªæ£®æž—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

## æ©Ÿèƒ½æ¦‚è¦

### ðŸŒ² ä¸»è¦æ©Ÿèƒ½
- **GISåœ°å›³è¡¨ç¤º**: å›½åœŸåœ°ç†é™¢ã®æ¨™æº–åœ°å›³ã€è¡›æ˜Ÿç”»åƒã€åœ°å½¢å›³ã«å¯¾å¿œ
- **GPSä½ç½®è¿½è·¡**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä½ç½®æƒ…å ±ã¨GPSè»Œè·¡è¨˜éŒ²
- **æ¨¹æœ¨ç®¡ç†**: ä½ç½®æƒ…å ±ä»˜ãæ¨¹æœ¨ç™»éŒ²ãƒ»å¥åº·çŠ¶æ…‹ç®¡ç†
- **ä½œæ¥­ã‚¨ãƒªã‚¢ç®¡ç†**: ãƒãƒªã‚´ãƒ³ãƒ™ãƒ¼ã‚¹ã®ã‚¨ãƒªã‚¢åŒºåˆ†ç®¡ç†
- **ãƒ‡ãƒ¼ã‚¿åˆ†æž**: çµ±è¨ˆæƒ…å ±ã¨å¯è¦–åŒ–
- **å†™çœŸæ©Ÿèƒ½**: æ¨¹æœ¨ã®å†™çœŸæ’®å½±ãƒ»ä¿å­˜
- **ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**: PDFå½¢å¼ã§ã®è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›
- **ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**: JSON/CSVå½¢å¼ã§ã®ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›

### ðŸ—ºï¸ GISæ©Ÿèƒ½
- **ãƒ™ã‚¯ã‚¿ãƒ¼ãƒ¬ã‚¤ãƒ¤ãƒ¼**: ãƒã‚¤ãƒ³ãƒˆã€ãƒ©ã‚¤ãƒ³ã€ãƒãƒªã‚´ãƒ³ã®æç”»ãƒ»ç·¨é›†
- **è·é›¢æ¸¬å®š**: 2ç‚¹é–“è·é›¢ã®æ­£ç¢ºãªæ¸¬å®š
- **é¢ç©è¨ˆç®—**: ãƒãƒªã‚´ãƒ³ã‚¨ãƒªã‚¢ã®é¢ç©ç®—å‡º
- **ç­‰é«˜ç·šè¡¨ç¤º**: åœ°å½¢æƒ…å ±ã®è©³ç´°è¡¨ç¤º
- **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ**: åœ°å›³ãƒ‡ãƒ¼ã‚¿ã®ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜

### ðŸ“Š åˆ†æžæ©Ÿèƒ½
- æ¨¹æœ¨å¥åº·çŠ¶æ…‹çµ±è¨ˆ
- ä½œæ¥­ã‚¨ãƒªã‚¢åˆ¥é›†è¨ˆ
- æ¨¹ç¨®åˆ†å¸ƒåˆ†æž
- GPSè»Œè·¡åˆ†æž
- æ£®æž—å¯†åº¦è¨ˆç®—

## æŠ€è¡“ä»•æ§˜

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: FastAPI (Python)
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: MongoDB
- **API**: RESTful API
- **ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†**: å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯¾å¿œ
- **ãƒ¬ãƒãƒ¼ãƒˆ**: ReportLab (PDFç”Ÿæˆ)

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: React 18
- **åœ°å›³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: React Leaflet
- **UI**: Tailwind CSS
- **ã‚¢ã‚¤ã‚³ãƒ³**: Lucide React
- **çŠ¶æ…‹ç®¡ç†**: React Hooks

### åœ°å›³ã‚µãƒ¼ãƒ“ã‚¹
- **å›½åœŸåœ°ç†é™¢åœ°å›³API**: ç„¡æ–™åˆ©ç”¨
- **å¯¾å¿œãƒ¬ã‚¤ãƒ¤ãƒ¼**: 
  - æ¨™æº–åœ°å›³ (std)
  - è¡›æ˜Ÿç”»åƒ (seamlessphoto)
  - åœ°å½¢å›³ (relief)
  - ç­‰é«˜ç·š (gazo4)

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ç’°å¢ƒè¦ä»¶
- Python 3.8+
- Node.js 14+
- MongoDB
- Yarn

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
cd backend
pip install -r requirements.txt

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
cd frontend
yarn install
```

2. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**
```bash
# backend/.env
MONGO_URL=mongodb://localhost:27017
DATABASE_NAME=forest_management
GSI_API_BASE_URL=https://cyberjapandata.gsi.go.jp

# frontend/.env
REACT_APP_BACKEND_URL=http://localhost:8001
REACT_APP_GSI_API_BASE_URL=https://cyberjapandata.gsi.go.jp
```

3. **MongoDB ã®èµ·å‹•**
```bash
mongod --dbpath /data/db
```

4. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•**
```bash
# Supervisorä½¿ç”¨
supervisord -c supervisord.conf

# ã¾ãŸã¯å€‹åˆ¥èµ·å‹•
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
cd backend && uvicorn server:app --reload --host 0.0.0.0 --port 8001

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
cd frontend && yarn start
```

## API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### æ¨¹æœ¨ç®¡ç†
- `GET /api/trees` - æ¨¹æœ¨ä¸€è¦§å–å¾—
- `POST /api/trees` - æ–°è¦æ¨¹æœ¨ç™»éŒ²
- `PUT /api/trees/{id}` - æ¨¹æœ¨æƒ…å ±æ›´æ–°
- `DELETE /api/trees/{id}` - æ¨¹æœ¨å‰Šé™¤
- `POST /api/trees/{id}/photos` - å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

### ä½œæ¥­ã‚¨ãƒªã‚¢ç®¡ç†
- `GET /api/work-areas` - ã‚¨ãƒªã‚¢ä¸€è¦§å–å¾—
- `POST /api/work-areas` - æ–°è¦ã‚¨ãƒªã‚¢ä½œæˆ
- `PUT /api/work-areas/{id}` - ã‚¨ãƒªã‚¢æ›´æ–°
- `DELETE /api/work-areas/{id}` - ã‚¨ãƒªã‚¢å‰Šé™¤

### GPSæ©Ÿèƒ½
- `GET /api/gps-tracks` - GPSè»Œè·¡å–å¾—
- `POST /api/gps-tracks` - GPSè»Œè·¡ä¿å­˜
- `DELETE /api/gps-tracks/{id}` - è»Œè·¡å‰Šé™¤

### åˆ†æžãƒ»ãƒ¬ãƒãƒ¼ãƒˆ
- `GET /api/analytics/summary` - çµ±è¨ˆã‚µãƒžãƒªãƒ¼
- `GET /api/analytics/species-distribution` - æ¨¹ç¨®åˆ†å¸ƒ
- `GET /api/reports/generate/{type}` - PDFãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- `GET /api/export/{format}` - ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

## ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### æ¨¹æœ¨ãƒ‡ãƒ¼ã‚¿
```json
{
  "id": "uuid",
  "species": "æ¨¹ç¨®å",
  "health": "healthy|warning|critical",
  "lat": 35.6762,
  "lng": 139.6503,
  "diameter": 45.5,
  "height": 15.2,
  "notes": "å‚™è€ƒ",
  "photos": [],
  "created_at": "2024-01-01T00:00:00Z",
  "updated_at": "2024-01-01T00:00:00Z"
}
```

### ä½œæ¥­ã‚¨ãƒªã‚¢ãƒ‡ãƒ¼ã‚¿
```json
{
  "id": "uuid",
  "name": "ã‚¨ãƒªã‚¢å",
  "status": "active|maintenance|completed",
  "boundary": [[lat, lng], ...],
  "description": "èª¬æ˜Ž",
  "tree_count": 45,
  "created_at": "2024-01-01T00:00:00Z"
}
```

## ä½¿ç”¨æ–¹æ³•

### 1. æ¨¹æœ¨ã®ç™»éŒ²
1. åœ°å›³ä¸Šã§ä½ç½®ã‚’ç¢ºèª
2. ã€Œ+ã€ãƒœã‚¿ãƒ³ã‹ã‚‰æ–°è¦æ¨¹æœ¨ç™»éŒ²
3. æ¨¹ç¨®ã€å¥åº·çŠ¶æ…‹ã€ã‚µã‚¤ã‚ºã‚’å…¥åŠ›
4. å†™çœŸã®æ’®å½±ãƒ»æ·»ä»˜ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### 2. ã‚¨ãƒªã‚¢ã®è¨­å®š
1. ãƒãƒªã‚´ãƒ³æç”»ãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠž
2. åœ°å›³ä¸Šã§ã‚¨ãƒªã‚¢å¢ƒç•Œã‚’æç”»
3. ã‚¨ãƒªã‚¢åã¨çŠ¶æ…‹ã‚’è¨­å®š
4. ä¿å­˜

### 3. GPSè¿½è·¡
1. ã€ŒGPSé–‹å§‹ã€ãƒœã‚¿ãƒ³ã§ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹
2. ç§»å‹•è»Œè·¡ãŒè‡ªå‹•è¨˜éŒ²
3. ã€ŒGPSåœæ­¢ã€ã§è¨˜éŒ²çµ‚äº†ãƒ»ä¿å­˜

### 4. ãƒ‡ãƒ¼ã‚¿åˆ†æž
1. ã€Œåˆ†æžã€ã‚¿ãƒ–ã§çµ±è¨ˆæƒ…å ±ã‚’ç¢ºèª
2. æ¨¹æœ¨å¥åº·çŠ¶æ…‹ã€ã‚¨ãƒªã‚¢åˆ¥ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
3. ã‚°ãƒ©ãƒ•ãƒ»ãƒãƒ£ãƒ¼ãƒˆã§å¯è¦–åŒ–

### 5. ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
1. ã€Œãƒ‡ãƒ¼ã‚¿ã€ã‚¿ãƒ–ã‹ã‚‰ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
2. PDFå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
3. åˆ†æžçµæžœã‚’å«ã‚€è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ä½¿ç”¨åœ°å›³ã«ã¤ã„ã¦

å›½åœŸåœ°ç†é™¢åœ°å›³ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
- å‡ºå…¸ï¼šå›½åœŸåœ°ç†é™¢ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ (https://maps.gsi.go.jp/)
- åˆ©ç”¨è¦ç´„ã«å¾“ã£ã¦ã”åˆ©ç”¨ãã ã•ã„

## ã‚µãƒãƒ¼ãƒˆ

ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½è¦æœ›ã¯ Issues ã«ã¦å—ã‘ä»˜ã‘ã¦ã„ã¾ã™ã€‚
=======
# æ£®æž—ç®¡ç† GIS ã‚¢ãƒ—ãƒª

å±±é–“éƒ¨ã§ã®ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åˆ©ç”¨ã‚’æƒ³å®šã—ãŸæ£®æž—ç®¡ç†ç”¨ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## æ¦‚è¦

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **Supabase** ã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«æŽ¡ç”¨ã—ãŸ **Flutter** ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚é›»æ³¢ã®å±Šã‹ãªã„ã‚¨ãƒªã‚¢ã§ã‚‚æ©Ÿèƒ½ã™ã‚‹ã€Œã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€è¨­è¨ˆã‚’æŽ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½
*   **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ (Isar/SQLite) ã‚’ä½¿ç”¨ã—ã€é€šä¿¡å›žå¾©æ™‚ã«ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ Supabase ã¨åŒæœŸã—ã¾ã™ã€‚
*   **åœ°å›³è¡¨ç¤º**: `flutter_map` ã‚’ä½¿ç”¨ã—ã€OpenStreetMap ã¾ãŸã¯å›½åœŸåœ°ç†é™¢åœ°å›³ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
*   **GIS æ©Ÿèƒ½**: PostGIS ã‚’æ´»ç”¨ã—ã¦æ£®æž—ã‚¨ãƒªã‚¢ (ãƒãƒªã‚´ãƒ³) ã‚„æ¨¹æœ¨ã®ä½ç½® (ãƒã‚¤ãƒ³ãƒˆ) ã‚’ç®¡ç†ã—ã¾ã™ã€‚
*   **ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: Android ã¨ iOS ã«å¯¾å¿œã—ãŸå˜ä¸€ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ã™ã€‚

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª)
*   **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Flutter (Dart)
*   **çŠ¶æ…‹ç®¡ç†**: Riverpod
*   **åœ°å›³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: flutter_map
*   **ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Isar ã¾ãŸã¯ SQLite (Drift)

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ & ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
*   **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: Supabase
*   **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL
*   **æ‹¡å¼µæ©Ÿèƒ½**: PostGIS (ç©ºé–“ãƒ‡ãƒ¼ã‚¿ã«å¿…é ˆ)
*   **èªè¨¼**: Supabase Auth

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ (ææ¡ˆ)

*   `lib/`: Flutter ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰
    *   `features/`: æ©Ÿèƒ½ã”ã¨ã®æ§‹æˆ (ä¾‹: `map`, `trees`, `auth`)
    *   `core/`: å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚„è¨­å®š
*   `supabase/`: Supabase ã®è¨­å®šã¨ SQL ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«

## å§‹ã‚æ–¹

### å‰ææ¡ä»¶
*   Flutter SDK
*   Android Studio / Android Emulator (ã¾ãŸã¯å®Ÿæ©Ÿ)
*   Supabase ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
1.  ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¾ã™ã€‚
2.  ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
    ```bash
    flutter pub get
    ```
3.  ã‚¢ãƒ—ãƒªã‚’å®Ÿè¡Œã—ã¾ã™:
    ```bash
    flutter run
    ```
>>>>>>> f4efde9 (Initialize Flutter project, archive legacy RN code, add basic map feature)
